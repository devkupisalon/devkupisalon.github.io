<!DOCTYPE html>
<html>
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Test Telegram WebApps API</title>
   <script src="https://telegram.org/js/telegram-web-app.js"></script>
   
 <style>
      body, html {
         height: 100%;
         margin: 0;
         padding: 0;
      }

      #myFrame {
         width: 100%;
         height: 100%;
         border: none;
      }
   </style>
   
</head>
<body>
   <iframe id="myFrame"></iframe>

   <script>
      const tg = window.Telegram.WebApp;
      tg.expand();

      const idMap = {
        "Закройщик": ['290406947'],
        "Обивщик": ['2090891587']
      };

      function getKeyByValue(object, value) {
         return Object.keys(object).find(key => object[key].includes(value));
       }
      
         const iframe = document.getElementById("myFrame");
         const responsible = getKeyByValue(idMap, tg.initDataUnsafe.user.id);
         const url = `https://script.google.com/a/macros/kupisalon.ru/s/AKfycbwv13NSFgUZZ1mcczKSqMqgFtlMcp5gwEEb9BOIyyMBIZqboryWgMqcojURX6vLF5s/exec?responsible=${responsible}`;
         iframe.src = url;
      
   </script>
</body>
</html>
